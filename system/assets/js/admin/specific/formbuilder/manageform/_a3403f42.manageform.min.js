!function(a){var b,c,d,e,f,g,h=a(".formbuilder-item-type-picker .item-type"),i=a(".form-items"),j=a(".instructions"),k=cfrequest.formbuilderFormId,l=cfrequest.formbuilderSaveNewItemEndpoint,m=cfrequest.formbuilderItemConfigEndpoint;b=function(){h.draggable({helper:"clone",connectToSortable:i}),j.droppable({accept:h,drop:c}),i.sortable({stop:d,placeholder:"item-type sortable-placeholder"})},c=function(a,b){var c=b.draggable.clone();c.appendTo(i),j.removeClass("empty"),e(c)},d=function(a,b){var c=b.item,d=c.data();d.itemTemplate&&(e(c),c.data("itemTemplate",!1))},e=function(a){var b=a.data();b.requiresConfiguration?g(a):f(b.itemType,{},function(b){a.data("id",b)})},f=function(b,c,d){var e=a.extend({},{formId:k,itemType:b},c);a.ajax(l,{method:"POST",data:e,cache:!1,success:d})},g=function(b){var c,d,e,f,g=b.data();c=function(a){var b={title:a.title,message:a.body,className:"",buttons:{},show:!0};b.buttons.cancel={label:'<i class="fa fa-reply"></i> '+i18n.translateResource("cms:cancel.btn"),className:"btn-default",callback:d},b.buttons.ok={label:'<i class="fa fa-check"></i> '+i18n.translateResource("cms:ok.btn"),className:"btn-primary",callback:e},f=presideBootbox.dialog(b)},e=function(){alert("onDialogOk")},d=function(){var a=b.data();"undefined"==typeof a.id&&b.remove()},a.ajax(m,{method:"POST",cache:!1,success:c,data:{itemType:g.itemType,id:g.id||""}})},b()}(presideJQuery);
//# sourceMappingURL=_manageform.min.map