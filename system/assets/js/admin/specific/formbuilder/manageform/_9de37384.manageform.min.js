!function(a){var b,c,d,e,f,g,h,i=a(".formbuilder-item-type-picker .item-type"),j=a(".form-items"),k=a(".instructions"),l=cfrequest.formbuilderFormId,m=cfrequest.formbuilderSaveNewItemEndpoint;b=function(){i.draggable({helper:"clone",connectToSortable:j}),k.droppable({accept:i,drop:d}),j.sortable({stop:e,placeholder:"item-type sortable-placeholder"})},c=function(){j.on("click",".edit-link",function(a){a.preventDefault(),alert("edit clicked")}),j.on("click",".delete-link",function(a){a.preventDefault(),alert("delete clicked")})},d=function(a,b){var c=b.draggable.clone();c.appendTo(j),k.removeClass("empty"),f(c)},e=function(a,b){var c=b.item,d=c.data();d.itemTemplate&&(f(c),c.data("itemTemplate",!1))},f=function(a){var b=a.data();b.requiresConfiguration?h(a):g(b.itemType,{},a)},g=function(b,c,d){var e,f=a.extend({},{formId:l,itemType:b},c);e=function(b){var c=a(b.itemView);d.after(c),d.remove()},a.ajax(m,{method:"POST",data:f,cache:!1,success:e})},h=function(a){var b,c,d,e,f,h=a.data();d=function(){return f.validateFormBuilderItemConfig(l,h.id||"",function(b){if(b){var c=f.getFormBuilderItemConfig();"undefined"==typeof h.id&&g(h.itemType,c,a),e.close()}}),!1},b=function(){var b=a.data();"undefined"==typeof b.id&&a.remove()},c=function(a){f=a},e=new PresideIframeModal(h.configEndpoint,"100%","100%",{onLoad:c,onok:d,oncancel:b},{title:h.configTitle,className:"full-screen-dialog",buttonList:["ok","cancel"]}),e.open()},b(),c()}(presideJQuery);
//# sourceMappingURL=_manageform.min.map