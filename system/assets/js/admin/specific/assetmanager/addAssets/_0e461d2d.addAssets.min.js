!function(a){var b,c,d,e,f,g,h=a("#add-asset-forms");c=function(b){var c=a(this).closest("form"),d=c.find("input[name=fileid]"),g=d.length&&d.val();g&&e(g),f(c),b.preventDefault()},d=function(b){var c=a(this);b.preventDefault(),a.ajax({type:"POST",url:c.attr("action"),data:c.serialize(),success:function(a){g(a,c)},error:function(){g({},c)}})},g=function(b,c){b.success?(a.gritter.add({title:i18n.translateResource("cms:assetmanager.notifications.asset.uploaded.title"),text:i18n.translateResource("cms:assetmanager.notifications.asset.uploaded.description",{data:[b.title]}),class_name:"gritter-success"}),f(c)):b.validationResult?c.data("validator").showErrors(b.validationResult):a.gritter.add(b.title&&b.message?{title:b.title,text:b.message,class_name:"gritter-error"}:{title:i18n.translateResource("cms:assetmanager.add.asset.unexpected.error.title"),text:i18n.translateResource("cms:assetmanager.add.asset.unexpected.error.message"),class_name:"gritter-error"})},e=function(b){a.post(buildAdminLink("assetmanager","deleteTempFile"),{fileid:b})},f=function(a){a.fadeOut(400,function(){a.remove(),a=h.find(".add-asset-form").first(),a.length?a.find("input:visible,select:visible,textarea:visible").first().focus():(h.addClass("processing-complete"),h.find(".back-btn").first().focus())})},(b=function(){h.on("click",".cancel-asset-btn",c),h.on("submit",".add-asset-form",d)})()}(presideJQuery);
//# sourceMappingURL=_addAssets.min.map